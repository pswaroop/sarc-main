{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/SWAROOP/Documents/Staffarc%20Projects/staffArcv0/staffarc/app/getRequirements/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport {\n  ArrowRight,\n  Bot,\n  Check,\n  ChevronLeft,\n  ChevronRight,\n  Copy,\n  RefreshCcw,\n  Send,\n  Sparkles,\n  Wand2,\n} from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport ReactMarkdown from \"react-markdown\";\nimport remarkGfm from \"remark-gfm\";\n\n/**\n * ARC ScopeBot — Requirements Wizard (robust + minimal AI where needed)\n * - Deterministic wizard for collecting requirements\n * - AI used only for:\n *   1) structuring “Other notes” into structured notes + missing questions\n *   2) polishing final summary (with Continue if truncated)\n * - Sends deterministic or AI summary to WhatsApp via click-to-chat\n */\n\nconst BOT_NAME = \"ARC ScopeBot\";\nconst STORAGE_KEY = \"arc_scopebot_requirements_v1\";\n\n// StaffArc WhatsApp numbers (digits only, international format)\nconst WHATSAPP_QUOTE_PRIMARY = \"918639619426\";\nconst WHATSAPP_QUOTE_SECONDARY = \"917842932428\";\n\nconst END_MARKER = \"<<END>>\";\n\ntype WebsiteType =\n  | \"static\"\n  | \"business\"\n  | \"ecommerce\"\n  | \"booking\"\n  | \"portfolio\"\n  | \"custom\";\n\ntype BuildPlatform = \"code\" | \"wordpress\" | \"shopify\" | \"not_sure\";\n\ntype Timeline =\n  | \"asap\"\n  | \"1_2_weeks\"\n  | \"2_4_weeks\"\n  | \"1_2_months\"\n  | \"2_3_months\"\n  | \"flexible\";\n\ntype BudgetRange =\n  | \"under_10k\"\n  | \"10k_25k\"\n  | \"25k_50k\"\n  | \"50k_1l\"\n  | \"1l_plus\"\n  | \"not_sure\";\n\ntype PaymentProvider =\n  | \"razorpay\"\n  | \"phonepe\"\n  | \"stripe\"\n  | \"paypal\"\n  | \"cash_on_delivery\"\n  | \"not_sure\";\n\ntype Hosting =\n  | \"already_have\"\n  | \"need_recommendation\"\n  | \"cloudflare\"\n  | \"vercel\"\n  | \"aws\"\n  | \"other\";\n\ntype ContentOwner = \"client\" | \"staffarc\" | \"mixed\" | \"not_sure\";\n\ntype StepId =\n  | \"intro\"\n  | \"type\"\n  | \"platform\"\n  | \"features\"\n  | \"ecommerce\"\n  | \"pages_content\"\n  | \"design\"\n  | \"integrations\"\n  | \"timeline_budget\"\n  | \"contact\"\n  | \"review\";\n\ntype Feature =\n  | \"seo\"\n  | \"analytics\"\n  | \"contact_forms\"\n  | \"chat_widget\"\n  | \"performance_optimization\"\n  | \"security_hardening\"\n  | \"multi_language\"\n  | \"cms\"\n  | \"blog\"\n  | \"admin_panel\"\n  | \"payment_gateway\"\n  | \"whatsapp_add_to_cart\"\n  | \"product_catalog\"\n  | \"inventory\"\n  | \"coupon_discounts\"\n  | \"shipping_integration\"\n  | \"gst_invoices\"\n  | \"user_accounts\"\n  | \"wishlist\"\n  | \"reviews_ratings\"\n  | \"booking_calendar\"\n  | \"lead_capture\";\n\ntype AIJson = {\n  structuredNotes?: string[];\n  missingQuestions?: string[];\n  extractedFeatures?: string[];\n  assumptions?: string[];\n  suggestedWebsiteType?: WebsiteType | null;\n  suggestedPlatform?: BuildPlatform | null;\n};\n\ntype Requirements = {\n  websiteType: WebsiteType | null;\n  platform: BuildPlatform | null;\n\n  businessName: string;\n  businessIndustry: string;\n  targetAudience: string;\n  referenceWebsites: string;\n  notesOther: string;\n\n  features: Feature[];\n\n  ecommerce: {\n    sellPhysical: boolean | null;\n    sellDigital: boolean | null;\n    productsCountApprox: string;\n\n    adminPanel: boolean | null;\n\n    paymentGateway: boolean | null;\n    paymentProviders: PaymentProvider[];\n    codEnabled: boolean | null;\n\n    whatsappCart: boolean | null;\n    whatsappNumber: string;\n    whatsappCartMessagePreference: \"simple\" | \"with_items\" | \"not_sure\";\n\n    shippingIntegration: boolean | null;\n    shippingProvider: string;\n\n    gstInvoices: boolean | null;\n  };\n\n  pages: {\n    pagesCountApprox: string;\n    pagesNeeded: string;\n\n    blogNeeded: boolean | null;\n    cmsNeeded: boolean | null;\n\n    contentOwner: ContentOwner | null;\n    hasLogo: boolean | null;\n    hasBrandColors: boolean | null;\n  };\n\n  design: {\n    style: \"modern\" | \"minimal\" | \"premium\" | \"bold\" | \"corporate\" | \"not_sure\";\n    colorPreferences: string;\n    animations: \"none\" | \"light\" | \"rich\" | \"not_sure\";\n  };\n\n  integrations: {\n    domain: \"already_have\" | \"need\" | \"not_sure\";\n    hosting: Hosting | null;\n    email: \"need_business_email\" | \"already_have\" | \"not_sure\";\n    analytics: boolean | null;\n    seoSetup: boolean | null;\n    crm: \"none\" | \"zoho\" | \"hubspot\" | \"other\" | \"not_sure\";\n    crmOther: string;\n  };\n\n  plan: {\n    timeline: Timeline | null;\n    budget: BudgetRange | null;\n    support: \"one_time\" | \"monthly\" | \"not_sure\";\n  };\n\n  contact: {\n    name: string;\n    phone: string;\n    email: string;\n    preferredContact: \"whatsapp\" | \"call\" | \"email\";\n    city: string;\n  };\n\n  ai: {\n    structuredNotes: string[];\n    aiQuestions: string[];\n    aiSummary: string;\n    aiSummaryIncomplete: boolean;\n    lastAiRunAt: number | null;\n  };\n};\n\nconst DEFAULT_REQ: Requirements = {\n  websiteType: null,\n  platform: null,\n\n  businessName: \"\",\n  businessIndustry: \"\",\n  targetAudience: \"\",\n  referenceWebsites: \"\",\n  notesOther: \"\",\n\n  features: [\"seo\", \"contact_forms\", \"performance_optimization\"],\n\n  ecommerce: {\n    sellPhysical: null,\n    sellDigital: null,\n    productsCountApprox: \"\",\n\n    adminPanel: null,\n\n    paymentGateway: null,\n    paymentProviders: [],\n    codEnabled: null,\n\n    whatsappCart: null,\n    whatsappNumber: \"\",\n    whatsappCartMessagePreference: \"with_items\",\n\n    shippingIntegration: null,\n    shippingProvider: \"\",\n\n    gstInvoices: null,\n  },\n\n  pages: {\n    pagesCountApprox: \"\",\n    pagesNeeded: \"\",\n\n    blogNeeded: null,\n    cmsNeeded: null,\n\n    contentOwner: null,\n    hasLogo: null,\n    hasBrandColors: null,\n  },\n\n  design: {\n    style: \"modern\",\n    colorPreferences: \"\",\n    animations: \"light\",\n  },\n\n  integrations: {\n    domain: \"not_sure\",\n    hosting: \"need_recommendation\",\n    email: \"not_sure\",\n    analytics: null,\n    seoSetup: null,\n    crm: \"not_sure\",\n    crmOther: \"\",\n  },\n\n  plan: {\n    timeline: null,\n    budget: null,\n    support: \"not_sure\",\n  },\n\n  contact: {\n    name: \"\",\n    phone: \"\",\n    email: \"\",\n    preferredContact: \"whatsapp\",\n    city: \"\",\n  },\n\n  ai: {\n    structuredNotes: [],\n    aiQuestions: [],\n    aiSummary: \"\",\n    aiSummaryIncomplete: false,\n    lastAiRunAt: null,\n  },\n};\n\nconst quickActions = [\n  \"Static website\",\n  \"Business website\",\n  \"E-commerce + Admin\",\n  \"E-commerce + Payment\",\n  \"Booking website\",\n];\n\nfunction uniq<T>(arr: T[]) {\n  return Array.from(new Set(arr));\n}\n\nfunction normalizeWhitespace(s: string) {\n  return s\n    .replace(/\\r\\n/g, \"\\n\")\n    .replace(/\\n{3,}/g, \"\\n\\n\")\n    .trim();\n}\n\nfunction formatPhoneDigitsOnly(input: string) {\n  return input.replace(/[^\\d]/g, \"\");\n}\n\nfunction stripEndMarker(text: string) {\n  return text.replace(new RegExp(`\\\\s*${END_MARKER}\\\\s*$`), \"\").trimEnd();\n}\n\nfunction hasEndMarker(text: string) {\n  return new RegExp(`${END_MARKER}\\\\s*$`).test(text.trim());\n}\n\nfunction safeParseJson<T>(text: string): T | null {\n  try {\n    return JSON.parse(text) as T;\n  } catch {\n    return null;\n  }\n}\n\n// --- SSE helpers (if /api/chat passes through Workers AI SSE) ---\nfunction extractSseEvents(buffer: string): { events: string[]; rest: string } {\n  const events: string[] = [];\n  let idx = buffer.indexOf(\"\\n\\n\");\n  while (idx !== -1) {\n    events.push(buffer.slice(0, idx));\n    buffer = buffer.slice(idx + 2);\n    idx = buffer.indexOf(\"\\n\\n\");\n  }\n  return { events, rest: buffer };\n}\n\nfunction getDataFromSseEvent(eventBlock: string): string | null {\n  const lines = eventBlock.split(\"\\n\");\n  const dataLines = lines\n    .filter((l) => l.startsWith(\"data:\"))\n    .map((l) => l.slice(5).trim());\n  if (dataLines.length === 0) return null;\n  return dataLines.join(\"\\n\");\n}\n\nasync function readAIResponseAsText(\n  res: Response,\n  signal?: AbortSignal,\n): Promise<string> {\n  const contentType = res.headers.get(\"content-type\") || \"\";\n\n  if (!res.body) return normalizeWhitespace(await res.text());\n\n  if (contentType.includes(\"text/event-stream\")) {\n    const reader = res.body.getReader();\n    const decoder = new TextDecoder();\n\n    let sseBuffer = \"\";\n    let out = \"\";\n\n    while (true) {\n      if (signal?.aborted) break;\n      const { done, value } = await reader.read();\n      if (done) break;\n\n      sseBuffer += decoder.decode(value, { stream: true });\n      const { events, rest } = extractSseEvents(sseBuffer);\n      sseBuffer = rest;\n\n      for (const ev of events) {\n        const data = getDataFromSseEvent(ev);\n        if (!data) continue;\n        if (data === \"[DONE]\") return normalizeWhitespace(out);\n\n        const parsed = safeParseJson<{ response?: string }>(data);\n        if (parsed?.response) out += parsed.response;\n      }\n    }\n\n    return normalizeWhitespace(out);\n  }\n\n  return normalizeWhitespace(await res.text());\n}\n\n// -------------------- UI atoms --------------------\n\nfunction SectionTitle({ title, desc }: { title: string; desc?: string }) {\n  return (\n    <div className=\"mb-3\">\n      <h2 className=\"text-lg font-bold text-gray-900\">{title}</h2>\n      {desc ? <p className=\"text-sm text-gray-500 mt-1\">{desc}</p> : null}\n    </div>\n  );\n}\n\nfunction Label({ children }: { children: React.ReactNode }) {\n  return (\n    <label className=\"text-sm font-semibold text-gray-700\">{children}</label>\n  );\n}\n\nfunction TextInput(props: React.InputHTMLAttributes<HTMLInputElement>) {\n  return (\n    <input\n      {...props}\n      className={cn(\n        \"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 text-sm text-gray-800 placeholder:text-gray-400\",\n        \"focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all\",\n        props.className,\n      )}\n    />\n  );\n}\n\nfunction TextArea(props: React.TextareaHTMLAttributes<HTMLTextAreaElement>) {\n  return (\n    <textarea\n      {...props}\n      className={cn(\n        \"w-full min-h-[110px] rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 text-sm text-gray-800 placeholder:text-gray-400\",\n        \"focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all\",\n        props.className,\n      )}\n    />\n  );\n}\n\nfunction Pill({\n  selected,\n  onClick,\n  children,\n}: {\n  selected?: boolean;\n  onClick?: () => void;\n  children: React.ReactNode;\n}) {\n  return (\n    <button\n      type=\"button\"\n      onClick={onClick}\n      className={cn(\n        \"px-3 py-2 rounded-xl border text-sm font-semibold transition-all\",\n        selected\n          ? \"bg-orange-50 border-orange-300 text-orange-700\"\n          : \"bg-white border-gray-200 text-gray-600 hover:border-orange-200 hover:text-orange-600\",\n      )}\n    >\n      {children}\n    </button>\n  );\n}\n\nfunction CopyButton({ text }: { text: string }) {\n  const [copied, setCopied] = useState(false);\n\n  return (\n    <button\n      type=\"button\"\n      onClick={() => {\n        navigator.clipboard.writeText(text);\n        setCopied(true);\n        window.setTimeout(() => setCopied(false), 1500);\n      }}\n      className=\"inline-flex items-center gap-1.5 rounded-lg border border-gray-200 bg-white px-3 py-2 text-xs font-semibold text-gray-600 hover:text-orange-600 hover:border-orange-200 transition-all\"\n      title=\"Copy\"\n    >\n      {copied ? (\n        <Check className=\"h-4 w-4 text-green-600\" />\n      ) : (\n        <Copy className=\"h-4 w-4\" />\n      )}\n      {copied ? \"Copied\" : \"Copy\"}\n    </button>\n  );\n}\n\n// -------------------- Summary builder (deterministic) --------------------\n\nfunction humanWebsiteType(t: WebsiteType | null) {\n  switch (t) {\n    case \"static\":\n      return \"Static / Landing website\";\n    case \"business\":\n      return \"Business website\";\n    case \"ecommerce\":\n      return \"E-commerce website\";\n    case \"booking\":\n      return \"Booking / Appointment website\";\n    case \"portfolio\":\n      return \"Portfolio website\";\n    case \"custom\":\n      return \"Custom website/app\";\n    default:\n      return \"Not decided\";\n  }\n}\n\nfunction humanPlatform(p: BuildPlatform | null) {\n  switch (p) {\n    case \"code\":\n      return \"Custom-coded (Next.js/React etc.)\";\n    case \"wordpress\":\n      return \"WordPress\";\n    case \"shopify\":\n      return \"Shopify\";\n    case \"not_sure\":\n      return \"Not sure (recommend)\";\n    default:\n      return \"Not decided\";\n  }\n}\n\nfunction buildDeterministicSummary(r: Requirements) {\n  const lines: string[] = [];\n\n  lines.push(`*${BOT_NAME} — Website Requirements Summary*`);\n  lines.push(\"\");\n\n  lines.push(`1) Client info`);\n  lines.push(`- Name: ${r.contact.name || \"-\"}`);\n  lines.push(`- Phone: ${r.contact.phone || \"-\"}`);\n  lines.push(`- Email: ${r.contact.email || \"-\"}`);\n  lines.push(`- City: ${r.contact.city || \"-\"}`);\n  lines.push(\"\");\n\n  lines.push(`2) Project basics`);\n  lines.push(`- Website type: ${humanWebsiteType(r.websiteType)}`);\n  lines.push(`- Build platform: ${humanPlatform(r.platform)}`);\n  lines.push(`- Business name: ${r.businessName || \"-\"}`);\n  lines.push(`- Industry: ${r.businessIndustry || \"-\"}`);\n  lines.push(`- Target audience: ${r.targetAudience || \"-\"}`);\n  if (r.referenceWebsites.trim())\n    lines.push(`- Reference websites: ${r.referenceWebsites.trim()}`);\n  lines.push(\"\");\n\n  lines.push(`3) Pages & content`);\n  lines.push(`- Pages count (approx): ${r.pages.pagesCountApprox || \"-\"}`);\n  lines.push(`- Pages needed: ${r.pages.pagesNeeded || \"-\"}`);\n  lines.push(\n    `- Blog: ${r.pages.blogNeeded === null ? \"-\" : r.pages.blogNeeded ? \"Yes\" : \"No\"}`,\n  );\n  lines.push(\n    `- CMS: ${r.pages.cmsNeeded === null ? \"-\" : r.pages.cmsNeeded ? \"Yes\" : \"No\"}`,\n  );\n  lines.push(`- Content provided by: ${r.pages.contentOwner || \"-\"}`);\n  lines.push(\n    `- Logo available: ${r.pages.hasLogo === null ? \"-\" : r.pages.hasLogo ? \"Yes\" : \"No\"}`,\n  );\n  lines.push(\n    `- Brand colors available: ${\n      r.pages.hasBrandColors === null\n        ? \"-\"\n        : r.pages.hasBrandColors\n          ? \"Yes\"\n          : \"No\"\n    }`,\n  );\n  lines.push(\"\");\n\n  lines.push(`4) Design preferences`);\n  lines.push(`- Style: ${r.design.style}`);\n  lines.push(`- Colors: ${r.design.colorPreferences || \"-\"}`);\n  lines.push(`- Animations: ${r.design.animations}`);\n  lines.push(\"\");\n\n  lines.push(`5) Features`);\n  lines.push(`- Selected: ${r.features.length ? r.features.join(\", \") : \"-\"}`);\n  if (r.ai.structuredNotes.length) {\n    lines.push(`- Structured notes:`);\n    for (const n of r.ai.structuredNotes.slice(0, 10)) lines.push(`  - ${n}`);\n  }\n  lines.push(\"\");\n\n  if (r.websiteType === \"ecommerce\") {\n    lines.push(`6) E-commerce specifics`);\n    lines.push(\n      `- Physical products: ${r.ecommerce.sellPhysical === null ? \"-\" : r.ecommerce.sellPhysical ? \"Yes\" : \"No\"}`,\n    );\n    lines.push(\n      `- Digital products: ${r.ecommerce.sellDigital === null ? \"-\" : r.ecommerce.sellDigital ? \"Yes\" : \"No\"}`,\n    );\n    lines.push(\n      `- Products count (approx): ${r.ecommerce.productsCountApprox || \"-\"}`,\n    );\n    lines.push(\n      `- Admin panel: ${r.ecommerce.adminPanel === null ? \"-\" : r.ecommerce.adminPanel ? \"Yes\" : \"No\"}`,\n    );\n    lines.push(\n      `- Payment gateway: ${\n        r.ecommerce.paymentGateway === null\n          ? \"-\"\n          : r.ecommerce.paymentGateway\n            ? \"Yes\"\n            : \"No\"\n      }`,\n    );\n    if (r.ecommerce.paymentProviders.length) {\n      lines.push(\n        `- Payment providers: ${r.ecommerce.paymentProviders.join(\", \")}`,\n      );\n    }\n    lines.push(\n      `- COD: ${r.ecommerce.codEnabled === null ? \"-\" : r.ecommerce.codEnabled ? \"Yes\" : \"No\"}`,\n    );\n    lines.push(\n      `- WhatsApp add-to-cart: ${\n        r.ecommerce.whatsappCart === null\n          ? \"-\"\n          : r.ecommerce.whatsappCart\n            ? \"Yes\"\n            : \"No\"\n      }`,\n    );\n    if (r.ecommerce.whatsappCart) {\n      lines.push(`- WhatsApp number: ${r.ecommerce.whatsappNumber || \"-\"}`);\n      lines.push(\n        `- WhatsApp message preference: ${r.ecommerce.whatsappCartMessagePreference}`,\n      );\n    }\n    lines.push(\n      `- Shipping integration: ${\n        r.ecommerce.shippingIntegration === null\n          ? \"-\"\n          : r.ecommerce.shippingIntegration\n            ? \"Yes\"\n            : \"No\"\n      }`,\n    );\n    if (\n      r.ecommerce.shippingIntegration &&\n      r.ecommerce.shippingProvider.trim()\n    ) {\n      lines.push(`- Shipping provider: ${r.ecommerce.shippingProvider.trim()}`);\n    }\n    lines.push(\n      `- GST invoices: ${r.ecommerce.gstInvoices === null ? \"-\" : r.ecommerce.gstInvoices ? \"Yes\" : \"No\"}`,\n    );\n    lines.push(\"\");\n  }\n\n  lines.push(`7) Integrations`);\n  lines.push(`- Domain: ${r.integrations.domain}`);\n  lines.push(`- Hosting: ${r.integrations.hosting || \"-\"}`);\n  lines.push(`- Business email: ${r.integrations.email}`);\n  lines.push(\n    `- Analytics setup: ${r.integrations.analytics === null ? \"-\" : r.integrations.analytics ? \"Yes\" : \"No\"}`,\n  );\n  lines.push(\n    `- SEO setup: ${r.integrations.seoSetup === null ? \"-\" : r.integrations.seoSetup ? \"Yes\" : \"No\"}`,\n  );\n  lines.push(\n    `- CRM: ${r.integrations.crm}${\n      r.integrations.crm === \"other\"\n        ? ` (${r.integrations.crmOther || \"-\"})`\n        : \"\"\n    }`,\n  );\n  lines.push(\"\");\n\n  lines.push(`8) Timeline & budget`);\n  lines.push(`- Timeline: ${r.plan.timeline || \"-\"}`);\n  lines.push(`- Budget: ${r.plan.budget || \"-\"}`);\n  lines.push(`- Support: ${r.plan.support}`);\n  lines.push(\"\");\n\n  if (r.notesOther.trim()) {\n    lines.push(`9) Other notes`);\n    lines.push(r.notesOther.trim());\n    lines.push(\"\");\n  }\n\n  lines.push(\"Please share a quote & next steps.\");\n\n  return normalizeWhitespace(lines.join(\"\\n\"));\n}\n\n// -------------------- AI prompts (minimal usage) --------------------\n\nfunction buildAIJsonPrompt(r: Requirements) {\n  const context = buildDeterministicSummary(r);\n\n  return `\nYou are a senior website solutions consultant.\n\nTask:\nConvert the client's free-text notes into structured requirements and missing questions.\n\nReturn STRICT JSON ONLY (no markdown, no backticks), with fields:\n{\n  \"structuredNotes\": string[],\n  \"missingQuestions\": string[],\n  \"extractedFeatures\": string[],\n  \"assumptions\": string[],\n  \"suggestedWebsiteType\": \"static\"|\"business\"|\"ecommerce\"|\"booking\"|\"portfolio\"|\"custom\"|null,\n  \"suggestedPlatform\": \"code\"|\"wordpress\"|\"shopify\"|\"not_sure\"|null\n}\n\nRules:\n- Keep questions short and actionable.\n- Extract only what is supported by context.\n- If unclear, add to missingQuestions.\n- Do not invent client details.\n\nClient context:\n${context}\n`.trim();\n}\n\nfunction buildAISummaryPrompt(r: Requirements, mode: \"summary\" | \"continue\") {\n  const base = `\nYou are ${BOT_NAME}, a requirements analyst for StaffArc.\nWrite a clean, professional summary for a WhatsApp quote.\nUse bullet points, keep it compact but complete, and include all key requirements.\nDo NOT add marketing fluff.\nDo NOT repeat the same point.\n`.trim();\n\n  if (mode === \"summary\") {\n    return `\n${base}\nEnd your final output with ${END_MARKER} on its own line. Do not mention the marker.\n\nUse this deterministic summary as source-of-truth:\n${buildDeterministicSummary(r)}\n`.trim();\n  }\n\n  return `\n${base}\nContinue EXACTLY from where the previous summary stopped.\nDo not repeat any text.\nEnd your output with ${END_MARKER} on its own line.\n`.trim();\n}\n\nasync function callAIJson(prompt: string): Promise<AIJson | null> {\n  const controller = new AbortController();\n  const timeoutId = window.setTimeout(() => controller.abort(), 20000);\n\n  try {\n    const res = await fetch(\"/api/chat\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      signal: controller.signal,\n      body: JSON.stringify({\n        messages: [\n          { role: \"system\", content: prompt },\n          { role: \"user\", content: \"Return JSON only.\" },\n        ],\n      }),\n    });\n\n    if (!res.ok) return null;\n\n    const raw = await readAIResponseAsText(res, controller.signal);\n\n    const first = raw.indexOf(\"{\");\n    const last = raw.lastIndexOf(\"}\");\n    if (first === -1 || last === -1) return null;\n\n    const jsonText = raw.slice(first, last + 1);\n    return safeParseJson<AIJson>(jsonText);\n  } catch {\n    return null;\n  } finally {\n    window.clearTimeout(timeoutId);\n  }\n}\n\nasync function callAIText(prompt: string, abortMs = 25000) {\n  const controller = new AbortController();\n  const timeoutId = window.setTimeout(() => controller.abort(), abortMs);\n\n  try {\n    const res = await fetch(\"/api/chat\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      signal: controller.signal,\n      body: JSON.stringify({\n        messages: [\n          { role: \"system\", content: prompt },\n          { role: \"user\", content: \"Proceed.\" },\n        ],\n      }),\n    });\n\n    if (!res.ok) throw new Error(\"AI request failed\");\n\n    const raw = await readAIResponseAsText(res, controller.signal);\n    return {\n      text: stripEndMarker(raw),\n      complete: hasEndMarker(raw),\n      raw,\n    };\n  } finally {\n    window.clearTimeout(timeoutId);\n  }\n}\n\n// -------------------- Step helpers --------------------\n\nfunction stepTitle(id: StepId) {\n  switch (id) {\n    case \"intro\":\n      return \"Start\";\n    case \"type\":\n      return \"Website type\";\n    case \"platform\":\n      return \"Platform\";\n    case \"features\":\n      return \"Features\";\n    case \"ecommerce\":\n      return \"E-commerce\";\n    case \"pages_content\":\n      return \"Pages & content\";\n    case \"design\":\n      return \"Design\";\n    case \"integrations\":\n      return \"Integrations\";\n    case \"timeline_budget\":\n      return \"Timeline & budget\";\n    case \"contact\":\n      return \"Contact\";\n    case \"review\":\n      return \"Review & send\";\n  }\n}\n\nfunction validateStep(id: StepId, r: Requirements) {\n  switch (id) {\n    case \"type\":\n      return !!r.websiteType;\n    case \"platform\":\n      return !!r.platform;\n    case \"pages_content\":\n      return !!r.pages.pagesCountApprox && !!r.pages.contentOwner;\n    case \"timeline_budget\":\n      return !!r.plan.timeline && !!r.plan.budget;\n    case \"contact\":\n      return !!r.contact.name && !!r.contact.phone;\n    default:\n      return true;\n  }\n}\n\n// -------------------- Page --------------------\n\nexport default function GetRequirementsPage() {\n  const [req, setReq] = useState<Requirements>(DEFAULT_REQ);\n  const [step, setStep] = useState<StepId>(\"intro\");\n\n  const [busyAI, setBusyAI] = useState(false);\n  const [aiError, setAiError] = useState(\"\");\n\n  const [aiSummaryLoading, setAiSummaryLoading] = useState(false);\n\n  const scrollRef = useRef<HTMLDivElement>(null);\n\n  // Load from localStorage\n  useEffect(() => {\n    try {\n      const raw = localStorage.getItem(STORAGE_KEY);\n      if (!raw) return;\n      const parsed = JSON.parse(raw) as Requirements;\n      setReq((p) => ({ ...p, ...parsed }));\n    } catch {\n      // ignore\n    }\n  }, []);\n\n  // Persist\n  useEffect(() => {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(req));\n  }, [req]);\n\n  useEffect(() => {\n    scrollRef.current?.scrollTo({ top: 0, behavior: \"smooth\" });\n  }, [step]);\n\n  const steps: StepId[] = useMemo(() => {\n    const base: StepId[] = [\n      \"intro\",\n      \"type\",\n      \"platform\",\n      \"features\",\n      \"ecommerce\",\n      \"pages_content\",\n      \"design\",\n      \"integrations\",\n      \"timeline_budget\",\n      \"contact\",\n      \"review\",\n    ];\n    return base.filter((s) =>\n      s === \"ecommerce\" ? req.websiteType === \"ecommerce\" : true,\n    );\n  }, [req.websiteType]);\n\n  const stepIndex = steps.indexOf(step);\n\n  const deterministicSummary = useMemo(\n    () => buildDeterministicSummary(req),\n    [req],\n  );\n\n  const goNext = () => {\n    if (!validateStep(step, req)) return;\n    const next = steps[stepIndex + 1];\n    if (next) setStep(next);\n  };\n\n  const goBack = () => {\n    const prev = steps[stepIndex - 1];\n    if (prev) setStep(prev);\n  };\n\n  const resetAll = () => {\n    localStorage.removeItem(STORAGE_KEY);\n    setReq(DEFAULT_REQ);\n    setStep(\"intro\");\n    setAiError(\"\");\n  };\n\n  const toggleFeature = (f: Feature) => {\n    setReq((p) => {\n      const has = p.features.includes(f);\n      return {\n        ...p,\n        features: has ? p.features.filter((x) => x !== f) : [...p.features, f],\n      };\n    });\n  };\n\n  const sendToWhatsApp = (number: string, text: string) => {\n    const phone = formatPhoneDigitsOnly(number);\n    const message = normalizeWhitespace(text);\n    const url = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;\n    window.open(url, \"_blank\", \"noopener,noreferrer\");\n  };\n\n  const runAIExtract = async () => {\n    setAiError(\"\");\n    setBusyAI(true);\n\n    try {\n      const json = await callAIJson(buildAIJsonPrompt(req));\n      if (!json) throw new Error(\"AI could not produce valid JSON.\");\n\n      setReq((p) => ({\n        ...p,\n        ai: {\n          ...p.ai,\n          structuredNotes: uniq([\n            ...(p.ai.structuredNotes || []),\n            ...(json.structuredNotes || []),\n          ]),\n          aiQuestions: uniq([\n            ...(p.ai.aiQuestions || []),\n            ...(json.missingQuestions || []),\n          ]),\n          lastAiRunAt: Date.now(),\n        },\n        websiteType: json.suggestedWebsiteType ?? p.websiteType,\n        platform: json.suggestedPlatform ?? p.platform,\n      }));\n\n      // Best-effort mapping of extractedFeatures -> our feature enums\n      const extracted = (json.extractedFeatures || []).map((x) =>\n        x.toLowerCase(),\n      );\n\n      setReq((p) => {\n        const next = new Set(p.features);\n\n        if (extracted.some((x) => x.includes(\"seo\"))) next.add(\"seo\");\n        if (extracted.some((x) => x.includes(\"analytic\")))\n          next.add(\"analytics\");\n        if (extracted.some((x) => x.includes(\"payment\")))\n          next.add(\"payment_gateway\");\n        if (extracted.some((x) => x.includes(\"admin\"))) next.add(\"admin_panel\");\n        if (extracted.some((x) => x.includes(\"whatsapp\")))\n          next.add(\"whatsapp_add_to_cart\");\n        if (extracted.some((x) => x.includes(\"blog\"))) next.add(\"blog\");\n        if (extracted.some((x) => x.includes(\"cms\"))) next.add(\"cms\");\n        if (extracted.some((x) => x.includes(\"shipping\")))\n          next.add(\"shipping_integration\");\n        if (extracted.some((x) => x.includes(\"gst\"))) next.add(\"gst_invoices\");\n\n        return { ...p, features: Array.from(next) };\n      });\n    } catch (e: any) {\n      setAiError(e?.message || \"AI failed\");\n    } finally {\n      setBusyAI(false);\n    }\n  };\n\n  const runAISummary = async () => {\n    setAiError(\"\");\n    setAiSummaryLoading(true);\n\n    try {\n      const { text, complete } = await callAIText(\n        buildAISummaryPrompt(req, \"summary\"),\n        25000,\n      );\n      setReq((p) => ({\n        ...p,\n        ai: {\n          ...p.ai,\n          aiSummary: text,\n          aiSummaryIncomplete: !complete,\n        },\n      }));\n    } catch (e: any) {\n      setAiError(e?.message || \"AI summary failed\");\n    } finally {\n      setAiSummaryLoading(false);\n    }\n  };\n\n  const continueAISummary = async () => {\n    setAiError(\"\");\n    setAiSummaryLoading(true);\n\n    try {\n      const prompt =\n        buildAISummaryPrompt(req, \"continue\") +\n        `\\n\\nPrevious partial summary:\\n${req.ai.aiSummary}\\n`;\n\n      const { text, complete } = await callAIText(prompt, 25000);\n\n      setReq((p) => ({\n        ...p,\n        ai: {\n          ...p.ai,\n          aiSummary: normalizeWhitespace(`${p.ai.aiSummary}\\n${text}`),\n          aiSummaryIncomplete: !complete,\n        },\n      }));\n    } catch (e: any) {\n      setAiError(e?.message || \"AI continue failed\");\n    } finally {\n      setAiSummaryLoading(false);\n    }\n  };\n\n  const renderStepBody = () => {\n    switch (step) {\n      case \"intro\":\n        return (\n          <div className=\"space-y-4\">\n            <SectionTitle\n              title={`${BOT_NAME} — Website Requirements`}\n              desc=\"Answer a few questions. At the end, you can send the summary to WhatsApp for a quote.\"\n            />\n\n            <div className=\"rounded-2xl border border-orange-100 bg-orange-50/60 p-4\">\n              <div className=\"flex items-start gap-3\">\n                <div className=\"mt-0.5 flex h-9 w-9 items-center justify-center rounded-xl bg-white border border-orange-100\">\n                  <Bot className=\"h-5 w-5 text-orange-600\" />\n                </div>\n                <div className=\"text-sm text-gray-700 leading-relaxed\">\n                  <p className=\"font-semibold text-gray-900\">How this works</p>\n                  <p className=\"mt-1\">\n                    You’ll pick website type, platform, features, pages,\n                    integrations, timeline, budget, and contact details.\n                  </p>\n                  <p className=\"mt-1\">\n                    AI is used only to structure “Other notes” and optionally\n                    polish the final summary.\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"rounded-2xl border border-gray-200 bg-white p-4\">\n              <p className=\"text-sm font-bold text-gray-900\">Quick start</p>\n              <p className=\"text-sm text-gray-600 mt-1\">Pick one:</p>\n              <div className=\"mt-3 flex flex-wrap gap-2\">\n                {quickActions.map((action) => (\n                  <Pill\n                    key={action}\n                    onClick={() => {\n                      if (action.startsWith(\"Static\")) {\n                        setReq((p) => ({ ...p, websiteType: \"static\" }));\n                        setStep(\"type\");\n                      } else if (action.startsWith(\"Business\")) {\n                        setReq((p) => ({ ...p, websiteType: \"business\" }));\n                        setStep(\"type\");\n                      } else if (action.startsWith(\"E-commerce + Admin\")) {\n                        setReq((p) => ({\n                          ...p,\n                          websiteType: \"ecommerce\",\n                          features: uniq([\n                            ...p.features,\n                            \"product_catalog\",\n                            \"admin_panel\",\n                          ]),\n                          ecommerce: { ...p.ecommerce, adminPanel: true },\n                        }));\n                        setStep(\"type\");\n                      } else if (action.startsWith(\"E-commerce + Payment\")) {\n                        setReq((p) => ({\n                          ...p,\n                          websiteType: \"ecommerce\",\n                          features: uniq([\n                            ...p.features,\n                            \"product_catalog\",\n                            \"admin_panel\",\n                            \"payment_gateway\",\n                          ]),\n                          ecommerce: {\n                            ...p.ecommerce,\n                            adminPanel: true,\n                            paymentGateway: true,\n                          },\n                        }));\n                        setStep(\"type\");\n                      } else if (action.startsWith(\"Booking\")) {\n                        setReq((p) => ({\n                          ...p,\n                          websiteType: \"booking\",\n                          features: uniq([...p.features, \"booking_calendar\"]),\n                        }));\n                        setStep(\"type\");\n                      }\n                    }}\n                  >\n                    {action}\n                  </Pill>\n                ))}\n              </div>\n            </div>\n          </div>\n        );\n\n      case \"type\":\n        return (\n          <div className=\"space-y-4\">\n            <SectionTitle title=\"What kind of website do you need?\" />\n\n            <div className=\"flex flex-wrap gap-2\">\n              {(\n                [\n                  [\"static\", \"Static / Landing\"],\n                  [\"business\", \"Business\"],\n                  [\"portfolio\", \"Portfolio\"],\n                  [\"booking\", \"Booking / Appointments\"],\n                  [\"ecommerce\", \"E-commerce\"],\n                  [\"custom\", \"Custom (explain later)\"],\n                ] as Array<[WebsiteType, string]>\n              ).map(([id, label]) => (\n                <Pill\n                  key={id}\n                  selected={req.websiteType === id}\n                  onClick={() =>\n                    setReq((p) => ({\n                      ...p,\n                      websiteType: id,\n                      features: uniq([\n                        ...p.features,\n                        ...(id === \"ecommerce\"\n                          ? ([\"product_catalog\", \"admin_panel\"] as Feature[])\n                          : []),\n                      ]),\n                    }))\n                  }\n                >\n                  {label}\n                </Pill>\n              ))}\n            </div>\n\n            <div className=\"grid gap-3 md:grid-cols-2\">\n              <div>\n                <Label>Target audience (optional)</Label>\n                <TextInput\n                  value={req.targetAudience}\n                  onChange={(e) =>\n                    setReq((p) => ({ ...p, targetAudience: e.target.value }))\n                  }\n                  placeholder=\"e.g., local customers, B2B clients, etc.\"\n                />\n              </div>\n              <div>\n                <Label>Reference websites (optional)</Label>\n                <TextInput\n                  value={req.referenceWebsites}\n                  onChange={(e) =>\n                    setReq((p) => ({ ...p, referenceWebsites: e.target.value }))\n                  }\n                  placeholder=\"Paste 1–3 URLs\"\n                />\n              </div>\n            </div>\n\n            {!validateStep(\"type\", req) ? (\n              <p className=\"text-sm font-semibold text-orange-700\">\n                Please choose a website type to proceed.\n              </p>\n            ) : null}\n          </div>\n        );\n\n      case \"platform\":\n        return (\n          <div className=\"space-y-4\">\n            <SectionTitle\n              title=\"How should we build it?\"\n              desc=\"If you’re unsure, select Recommend.\"\n            />\n\n            <div className=\"flex flex-wrap gap-2\">\n              {(\n                [\n                  [\"code\", \"Custom coding\"],\n                  [\"wordpress\", \"WordPress\"],\n                  [\"shopify\", \"Shopify\"],\n                  [\"not_sure\", \"Recommend\"],\n                ] as Array<[BuildPlatform, string]>\n              ).map(([id, label]) => (\n                <Pill\n                  key={id}\n                  selected={req.platform === id}\n                  onClick={() => setReq((p) => ({ ...p, platform: id }))}\n                >\n                  {label}\n                </Pill>\n              ))}\n            </div>\n\n            <div className=\"rounded-2xl border border-gray-200 bg-white p-4 space-y-3\">\n              <div className=\"grid gap-3 md:grid-cols-2\">\n                <div>\n                  <Label>Business name (optional)</Label>\n                  <TextInput\n                    value={req.businessName}\n                    onChange={(e) =>\n                      setReq((p) => ({ ...p, businessName: e.target.value }))\n                    }\n                    placeholder=\"e.g., ABC Traders\"\n                  />\n                </div>\n                <div>\n                  <Label>Industry (optional)</Label>\n                  <TextInput\n                    value={req.businessIndustry}\n                    onChange={(e) =>\n                      setReq((p) => ({\n                        ...p,\n                        businessIndustry: e.target.value,\n                      }))\n                    }\n                    placeholder=\"e.g., Restaurants, Clothing, IT Services\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                <Label>Other notes (optional)</Label>\n                <TextArea\n                  value={req.notesOther}\n                  onChange={(e) =>\n                    setReq((p) => ({ ...p, notesOther: e.target.value }))\n                  }\n                  placeholder=\"Anything special: multi-language, roles, invoice format, etc.\"\n                />\n              </div>\n\n              <div className=\"flex flex-wrap items-center gap-2\">\n                <button\n                  type=\"button\"\n                  disabled={busyAI || !req.notesOther.trim()}\n                  onClick={runAIExtract}\n                  className=\"inline-flex items-center gap-2 rounded-xl bg-orange-600 px-4 py-2.5 text-sm font-bold text-white shadow-sm hover:bg-orange-700 disabled:opacity-50\"\n                  title=\"Use AI to structure your notes + list missing questions\"\n                >\n                  <Wand2 className=\"h-4 w-4\" />\n                  Structure notes with AI\n                </button>\n                {busyAI ? (\n                  <span className=\"text-sm text-gray-500\">Working…</span>\n                ) : null}\n              </div>\n\n              {aiError ? (\n                <p className=\"text-sm font-semibold text-red-600\">{aiError}</p>\n              ) : null}\n\n              {req.ai.structuredNotes.length ? (\n                <div className=\"rounded-xl border border-orange-100 bg-orange-50 p-3\">\n                  <p className=\"text-sm font-bold text-gray-900\">\n                    Structured notes\n                  </p>\n                  <ul className=\"mt-2 list-disc pl-5 text-sm text-gray-700 space-y-1\">\n                    {req.ai.structuredNotes.slice(0, 10).map((x, i) => (\n                      <li key={i}>{x}</li>\n                    ))}\n                  </ul>\n                </div>\n              ) : null}\n\n              {req.ai.aiQuestions.length ? (\n                <div className=\"rounded-xl border border-gray-200 bg-white p-3\">\n                  <p className=\"text-sm font-bold text-gray-900\">\n                    Missing questions (AI)\n                  </p>\n                  <ul className=\"mt-2 list-disc pl-5 text-sm text-gray-700 space-y-1\">\n                    {req.ai.aiQuestions.slice(0, 12).map((q, i) => (\n                      <li key={i}>{q}</li>\n                    ))}\n                  </ul>\n                </div>\n              ) : null}\n            </div>\n\n            {!validateStep(\"platform\", req) ? (\n              <p className=\"text-sm font-semibold text-orange-700\">\n                Please select a platform to proceed.\n              </p>\n            ) : null}\n          </div>\n        );\n\n      case \"features\":\n        return (\n          <div className=\"space-y-4\">\n            <SectionTitle\n              title=\"Which features do you need?\"\n              desc=\"Select what’s needed (you can change later).\"\n            />\n\n            <div className=\"rounded-2xl border border-gray-200 bg-white p-4 space-y-4\">\n              <div>\n                <p className=\"text-sm font-bold text-gray-900\">Core</p>\n                <div className=\"mt-3 flex flex-wrap gap-2\">\n                  {(\n                    [\n                      [\"seo\", \"SEO basics\"],\n                      [\"analytics\", \"Analytics\"],\n                      [\"contact_forms\", \"Contact forms\"],\n                      [\"chat_widget\", \"Chat widget\"],\n                      [\"performance_optimization\", \"Performance\"],\n                      [\"security_hardening\", \"Security hardening\"],\n                      [\"multi_language\", \"Multi-language\"],\n                      [\"cms\", \"CMS\"],\n                      [\"blog\", \"Blog\"],\n                    ] as Array<[Feature, string]>\n                  ).map(([id, label]) => (\n                    <Pill\n                      key={id}\n                      selected={req.features.includes(id)}\n                      onClick={() => toggleFeature(id)}\n                    >\n                      {label}\n                    </Pill>\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"border-t border-dashed border-gray-200 pt-4\">\n                <p className=\"text-sm font-bold text-gray-900\">E-commerce</p>\n                <div className=\"mt-3 flex flex-wrap gap-2\">\n                  {(\n                    [\n                      [\"product_catalog\", \"Product catalog\"],\n                      [\"admin_panel\", \"Admin panel\"],\n                      [\"payment_gateway\", \"Payment gateway\"],\n                      [\"whatsapp_add_to_cart\", \"Add-to-cart → WhatsApp\"],\n                      [\"inventory\", \"Inventory\"],\n                      [\"coupon_discounts\", \"Coupons/discounts\"],\n                      [\"shipping_integration\", \"Shipping integration\"],\n                      [\"gst_invoices\", \"GST invoices\"],\n                      [\"user_accounts\", \"User accounts\"],\n                      [\"wishlist\", \"Wishlist\"],\n                      [\"reviews_ratings\", \"Reviews/ratings\"],\n                    ] as Array<[Feature, string]>\n                  ).map(([id, label]) => (\n                    <Pill\n                      key={id}\n                      selected={req.features.includes(id)}\n                      onClick={() => toggleFeature(id)}\n                    >\n                      {label}\n                    </Pill>\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"border-t border-dashed border-gray-200 pt-4\">\n                <p className=\"text-sm font-bold text-gray-900\">Bookings</p>\n                <div className=\"mt-3 flex flex-wrap gap-2\">\n                  {(\n                    [\n                      [\"booking_calendar\", \"Booking calendar\"],\n                      [\"lead_capture\", \"Lead capture\"],\n                    ] as Array<[Feature, string]>\n                  ).map(([id, label]) => (\n                    <Pill\n                      key={id}\n                      selected={req.features.includes(id)}\n                      onClick={() => toggleFeature(id)}\n                    >\n                      {label}\n                    </Pill>\n                  ))}\n                </div>\n              </div>\n            </div>\n\n            <div className=\"rounded-2xl border border-gray-200 bg-white p-4 space-y-3\">\n              <Label>Anything else? (optional)</Label>\n              <TextArea\n                value={req.notesOther}\n                onChange={(e) =>\n                  setReq((p) => ({ ...p, notesOther: e.target.value }))\n                }\n                placeholder=\"Example: 'role-based access, downloadable invoices, SEO blog with categories…'\"\n              />\n              <div className=\"flex flex-wrap items-center gap-2\">\n                <button\n                  type=\"button\"\n                  disabled={busyAI || !req.notesOther.trim()}\n                  onClick={runAIExtract}\n                  className=\"inline-flex items-center gap-2 rounded-xl bg-orange-600 px-4 py-2.5 text-sm font-bold text-white shadow-sm hover:bg-orange-700 disabled:opacity-50\"\n                >\n                  <Wand2 className=\"h-4 w-4\" />\n                  Use AI to structure\n                </button>\n                {busyAI ? (\n                  <span className=\"text-sm text-gray-500\">Working…</span>\n                ) : null}\n              </div>\n              {aiError ? (\n                <p className=\"text-sm font-semibold text-red-600\">{aiError}</p>\n              ) : null}\n            </div>\n          </div>\n        );\n\n      case \"ecommerce\":\n        return (\n          <div className=\"space-y-4\">\n            <SectionTitle\n              title=\"E-commerce details\"\n              desc=\"Shown because you selected an e-commerce website.\"\n            />\n\n            <div className=\"grid gap-4 md:grid-cols-2\">\n              <div className=\"rounded-2xl border border-gray-200 bg-white p-4 space-y-3\">\n                <p className=\"text-sm font-bold text-gray-900\">Products</p>\n\n                <div>\n                  <Label>Physical products?</Label>\n                  <div className=\"mt-2 flex gap-2\">\n                    <Pill\n                      selected={req.ecommerce.sellPhysical === true}\n                      onClick={() =>\n                        setReq((p) => ({\n                          ...p,\n                          ecommerce: { ...p.ecommerce, sellPhysical: true },\n                        }))\n                      }\n                    >\n                      Yes\n                    </Pill>\n                    <Pill\n                      selected={req.ecommerce.sellPhysical === false}\n                      onClick={() =>\n                        setReq((p) => ({\n                          ...p,\n                          ecommerce: { ...p.ecommerce, sellPhysical: false },\n                        }))\n                      }\n                    >\n                      No\n                    </Pill>\n                  </div>\n                </div>\n\n                <div>\n                  <Label>Digital products?</Label>\n                  <div className=\"mt-2 flex gap-2\">\n                    <Pill\n                      selected={req.ecommerce.sellDigital === true}\n                      onClick={() =>\n                        setReq((p) => ({\n                          ...p,\n                          ecommerce: { ...p.ecommerce, sellDigital: true },\n                        }))\n                      }\n                    >\n                      Yes\n                    </Pill>\n                    <Pill\n                      selected={req.ecommerce.sellDigital === false}\n                      onClick={() =>\n                        setReq((p) => ({\n                          ...p,\n                          ecommerce: { ...p.ecommerce, sellDigital: false },\n                        }))\n                      }\n                    >\n                      No\n                    </Pill>\n                  </div>\n                </div>\n\n                <div>\n                  <Label>Approx product count</Label>\n                  <TextInput\n                    value={req.ecommerce.productsCountApprox}\n                    onChange={(e) =>\n                      setReq((p) => ({\n                        ...p,\n                        ecommerce: {\n                          ...p.ecommerce,\n                          productsCountApprox: e.target.value,\n                        },\n                      }))\n                    }\n                    placeholder=\"e.g., 20 / 200 / 2000\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"rounded-2xl border border-gray-200 bg-white p-4 space-y-3\">\n                <p className=\"text-sm font-bold text-gray-900\">Checkout</p>\n\n                <div>\n                  <Label>Admin panel needed?</Label>\n                  <div className=\"mt-2 flex gap-2\">\n                    <Pill\n                      selected={req.ecommerce.adminPanel === true}\n                      onClick={() =>\n                        setReq((p) => ({\n                          ...p,\n                          ecommerce: { ...p.ecommerce, adminPanel: true },\n                          features: uniq([...p.features, \"admin_panel\"]),\n                        }))\n                      }\n                    >\n                      Yes\n                    </Pill>\n                    <Pill\n                      selected={req.ecommerce.adminPanel === false}\n                      onClick={() =>\n                        setReq((p) => ({\n                          ...p,\n                          ecommerce: { ...p.ecommerce, adminPanel: false },\n                        }))\n                      }\n                    >\n                      No\n                    </Pill>\n                  </div>\n                </div>\n\n                <div>\n                  <Label>Payment gateway needed?</Label>\n                  <div className=\"mt-2 flex gap-2\">\n                    <Pill\n                      selected={req.ecommerce.paymentGateway === true}\n                      onClick={() =>\n                        setReq((p) => ({\n                          ...p,\n                          ecommerce: { ...p.ecommerce, paymentGateway: true },\n                          features: uniq([...p.features, \"payment_gateway\"]),\n                        }))\n                      }\n                    >\n                      Yes\n                    </Pill>\n                    <Pill\n                      selected={req.ecommerce.paymentGateway === false}\n                      onClick={() =>\n                        setReq((p) => ({\n                          ...p,\n                          ecommerce: {\n                            ...p.ecommerce,\n                            paymentGateway: false,\n                            paymentProviders: [],\n                          },\n                        }))\n                      }\n                    >\n                      No\n                    </Pill>\n                  </div>\n                </div>\n\n                {req.ecommerce.paymentGateway ? (\n                  <div>\n                    <Label>Payment providers</Label>\n                    <div className=\"mt-2 flex flex-wrap gap-2\">\n                      {(\n                        [\n                          [\"razorpay\", \"Razorpay\"],\n                          [\"phonepe\", \"PhonePe\"],\n                          [\"stripe\", \"Stripe\"],\n                          [\"paypal\", \"PayPal\"],\n                          [\"cash_on_delivery\", \"Cash on Delivery\"],\n                          [\"not_sure\", \"Not sure\"],\n                        ] as Array<[PaymentProvider, string]>\n                      ).map(([id, label]) => (\n                        <Pill\n                          key={id}\n                          selected={req.ecommerce.paymentProviders.includes(id)}\n                          onClick={() =>\n                            setReq((p) => {\n                              const has =\n                                p.ecommerce.paymentProviders.includes(id);\n                              const next = has\n                                ? p.ecommerce.paymentProviders.filter(\n                                    (x) => x !== id,\n                                  )\n                                : [...p.ecommerce.paymentProviders, id];\n                              return {\n                                ...p,\n                                ecommerce: {\n                                  ...p.ecommerce,\n                                  paymentProviders: next,\n                                },\n                              };\n                            })\n                          }\n                        >\n                          {label}\n                        </Pill>\n                      ))}\n                    </div>\n                  </div>\n                ) : null}\n\n                <div>\n                  <Label>COD enabled?</Label>\n                  <div className=\"mt-2 flex gap-2\">\n                    <Pill\n                      selected={req.ecommerce.codEnabled === true}\n                      onClick={() =>\n                        setReq((p) => ({\n                          ...p,\n                          ecommerce: { ...p.ecommerce, codEnabled: true },\n                        }))\n                      }\n                    >\n                      Yes\n                    </Pill>\n                    <Pill\n                      selected={req.ecommerce.codEnabled === false}\n                      onClick={() =>\n                        setReq((p) => ({\n                          ...p,\n                          ecommerce: { ...p.ecommerce, codEnabled: false },\n                        }))\n                      }\n                    >\n                      No\n                    </Pill>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"rounded-2xl border border-gray-200 bg-white p-4 space-y-4\">\n              <p className=\"text-sm font-bold text-gray-900\">\n                WhatsApp add-to-cart\n              </p>\n\n              <div>\n                <Label>Do you want Add-to-cart → WhatsApp integration?</Label>\n                <div className=\"mt-2 flex gap-2\">\n                  <Pill\n                    selected={req.ecommerce.whatsappCart === true}\n                    onClick={() =>\n                      setReq((p) => ({\n                        ...p,\n                        ecommerce: { ...p.ecommerce, whatsappCart: true },\n                        features: uniq([...p.features, \"whatsapp_add_to_cart\"]),\n                      }))\n                    }\n                  >\n                    Yes\n                  </Pill>\n                  <Pill\n                    selected={req.ecommerce.whatsappCart === false}\n                    onClick={() =>\n                      setReq((p) => ({\n                        ...p,\n                        ecommerce: {\n                          ...p.ecommerce,\n                          whatsappCart: false,\n                          whatsappNumber: \"\",\n                        },\n                      }))\n                    }\n                  >\n                    No\n                  </Pill>\n                </div>\n              </div>\n\n              {req.ecommerce.whatsappCart ? (\n                <div className=\"grid gap-3 md:grid-cols-2\">\n                  <div>\n                    <Label>WhatsApp number to receive orders</Label>\n                    <TextInput\n                      value={req.ecommerce.whatsappNumber}\n                      onChange={(e) =>\n                        setReq((p) => ({\n                          ...p,\n                          ecommerce: {\n                            ...p.ecommerce,\n                            whatsappNumber: e.target.value,\n                          },\n                        }))\n                      }\n                      placeholder=\"e.g., +91 98xxxxxx (digits ok)\"\n                    />\n                    <p className=\"text-xs text-gray-500 mt-1\">\n                      Tip: keep it as digits-only international format.\n                    </p>\n                  </div>\n\n                  <div>\n                    <Label>Message style</Label>\n                    <div className=\"mt-2 flex flex-wrap gap-2\">\n                      <Pill\n                        selected={\n                          req.ecommerce.whatsappCartMessagePreference ===\n                          \"simple\"\n                        }\n                        onClick={() =>\n                          setReq((p) => ({\n                            ...p,\n                            ecommerce: {\n                              ...p.ecommerce,\n                              whatsappCartMessagePreference: \"simple\",\n                            },\n                          }))\n                        }\n                      >\n                        Simple\n                      </Pill>\n\n                      <Pill\n                        selected={\n                          req.ecommerce.whatsappCartMessagePreference ===\n                          \"with_items\"\n                        }\n                        onClick={() =>\n                          setReq((p) => ({\n                            ...p,\n                            ecommerce: {\n                              ...p.ecommerce,\n                              whatsappCartMessagePreference: \"with_items\",\n                            },\n                          }))\n                        }\n                      >\n                        With items list\n                      </Pill>\n\n                      <Pill\n                        selected={\n                          req.ecommerce.whatsappCartMessagePreference ===\n                          \"not_sure\"\n                        }\n                        onClick={() =>\n                          setReq((p) => ({\n                            ...p,\n                            ecommerce: {\n                              ...p.ecommerce,\n                              whatsappCartMessagePreference: \"not_sure\",\n                            },\n                          }))\n                        }\n                      >\n                        Not sure\n                      </Pill>\n                    </div>\n                  </div>\n                </div>\n              ) : null}\n            </div>\n\n            <div className=\"rounded-2xl border border-gray-200 bg-white p-4 space-y-4\">\n              <p className=\"text-sm font-bold text-gray-900\">Shipping & GST</p>\n\n              <div>\n                <Label>Shipping integration needed?</Label>\n                <div className=\"mt-2 flex gap-2\">\n                  <Pill\n                    selected={req.ecommerce.shippingIntegration === true}\n                    onClick={() =>\n                      setReq((p) => ({\n                        ...p,\n                        ecommerce: {\n                          ...p.ecommerce,\n                          shippingIntegration: true,\n                        },\n                        features: uniq([...p.features, \"shipping_integration\"]),\n                      }))\n                    }\n                  >\n                    Yes\n                  </Pill>\n                  <Pill\n                    selected={req.ecommerce.shippingIntegration === false}\n                    onClick={() =>\n                      setReq((p) => ({\n                        ...p,\n                        ecommerce: {\n                          ...p.ecommerce,\n                          shippingIntegration: false,\n                          shippingProvider: \"\",\n                        },\n                      }))\n                    }\n                  >\n                    No\n                  </Pill>\n                </div>\n              </div>\n\n              {req.ecommerce.shippingIntegration ? (\n                <div>\n                  <Label>Shipping provider (optional)</Label>\n                  <TextInput\n                    value={req.ecommerce.shippingProvider}\n                    onChange={(e) =>\n                      setReq((p) => ({\n                        ...p,\n                        ecommerce: {\n                          ...p.ecommerce,\n                          shippingProvider: e.target.value,\n                        },\n                      }))\n                    }\n                    placeholder=\"e.g., Shiprocket / Delhivery / Custom\"\n                  />\n                </div>\n              ) : null}\n\n              <div>\n                <Label>GST invoices required?</Label>\n                <div className=\"mt-2 flex gap-2\">\n                  <Pill\n                    selected={req.ecommerce.gstInvoices === true}\n                    onClick={() =>\n                      setReq((p) => ({\n                        ...p,\n                        ecommerce: { ...p.ecommerce, gstInvoices: true },\n                        features: uniq([...p.features, \"gst_invoices\"]),\n                      }))\n                    }\n                  >\n                    Yes\n                  </Pill>\n                  <Pill\n                    selected={req.ecommerce.gstInvoices === false}\n                    onClick={() =>\n                      setReq((p) => ({\n                        ...p,\n                        ecommerce: { ...p.ecommerce, gstInvoices: false },\n                      }))\n                    }\n                  >\n                    No\n                  </Pill>\n                </div>\n              </div>\n            </div>\n          </div>\n        );\n\n      case \"pages_content\":\n        return (\n          <div className=\"space-y-4\">\n            <SectionTitle\n              title=\"Pages & content\"\n              desc=\"This helps estimate effort and timeline.\"\n            />\n\n            <div className=\"grid gap-4 md:grid-cols-2\">\n              <div className=\"rounded-2xl border border-gray-200 bg-white p-4 space-y-3\">\n                <div>\n                  <Label>Approx pages count</Label>\n                  <TextInput\n                    value={req.pages.pagesCountApprox}\n                    onChange={(e) =>\n                      setReq((p) => ({\n                        ...p,\n                        pages: { ...p.pages, pagesCountApprox: e.target.value },\n                      }))\n                    }\n                    placeholder=\"e.g., 1-5 / 6-10 / 10+\"\n                  />\n                </div>\n\n                <div>\n                  <Label>Pages needed (list)</Label>\n                  <TextArea\n                    value={req.pages.pagesNeeded}\n                    onChange={(e) =>\n                      setReq((p) => ({\n                        ...p,\n                        pages: { ...p.pages, pagesNeeded: e.target.value },\n                      }))\n                    }\n                    placeholder=\"Home, About, Services, Pricing, Contact, FAQ...\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"rounded-2xl border border-gray-200 bg-white p-4 space-y-3\">\n                <div>\n                  <Label>Blog needed?</Label>\n                  <div className=\"mt-2 flex gap-2\">\n                    <Pill\n                      selected={req.pages.blogNeeded === true}\n                      onClick={() =>\n                        setReq((p) => ({\n                          ...p,\n                          pages: { ...p.pages, blogNeeded: true },\n                          features: uniq([...p.features, \"blog\"]),\n                        }))\n                      }\n                    >\n                      Yes\n                    </Pill>\n                    <Pill\n                      selected={req.pages.blogNeeded === false}\n                      onClick={() =>\n                        setReq((p) => ({\n                          ...p,\n                          pages: { ...p.pages, blogNeeded: false },\n                        }))\n                      }\n                    >\n                      No\n                    </Pill>\n                  </div>\n                </div>\n\n                <div>\n                  <Label>CMS needed?</Label>\n                  <div className=\"mt-2 flex gap-2\">\n                    <Pill\n                      selected={req.pages.cmsNeeded === true}\n                      onClick={() =>\n                        setReq((p) => ({\n                          ...p,\n                          pages: { ...p.pages, cmsNeeded: true },\n                          features: uniq([...p.features, \"cms\"]),\n                        }))\n                      }\n                    >\n                      Yes\n                    </Pill>\n                    <Pill\n                      selected={req.pages.cmsNeeded === false}\n                      onClick={() =>\n                        setReq((p) => ({\n                          ...p,\n                          pages: { ...p.pages, cmsNeeded: false },\n                        }))\n                      }\n                    >\n                      No\n                    </Pill>\n                  </div>\n                </div>\n\n                <div>\n                  <Label>Content provided by</Label>\n                  <div className=\"mt-2 flex flex-wrap gap-2\">\n                    {(\n                      [\n                        [\"client\", \"Client\"],\n                        [\"staffarc\", \"StaffArc\"],\n                        [\"mixed\", \"Mixed\"],\n                        [\"not_sure\", \"Not sure\"],\n                      ] as Array<[ContentOwner, string]>\n                    ).map(([id, label]) => (\n                      <Pill\n                        key={id}\n                        selected={req.pages.contentOwner === id}\n                        onClick={() =>\n                          setReq((p) => ({\n                            ...p,\n                            pages: { ...p.pages, contentOwner: id },\n                          }))\n                        }\n                      >\n                        {label}\n                      </Pill>\n                    ))}\n                  </div>\n                </div>\n\n                <div className=\"grid gap-3 md:grid-cols-2\">\n                  <div>\n                    <Label>Logo available?</Label>\n                    <div className=\"mt-2 flex gap-2\">\n                      <Pill\n                        selected={req.pages.hasLogo === true}\n                        onClick={() =>\n                          setReq((p) => ({\n                            ...p,\n                            pages: { ...p.pages, hasLogo: true },\n                          }))\n                        }\n                      >\n                        Yes\n                      </Pill>\n                      <Pill\n                        selected={req.pages.hasLogo === false}\n                        onClick={() =>\n                          setReq((p) => ({\n                            ...p,\n                            pages: { ...p.pages, hasLogo: false },\n                          }))\n                        }\n                      >\n                        No\n                      </Pill>\n                    </div>\n                  </div>\n\n                  <div>\n                    <Label>Brand colors ready?</Label>\n                    <div className=\"mt-2 flex gap-2\">\n                      <Pill\n                        selected={req.pages.hasBrandColors === true}\n                        onClick={() =>\n                          setReq((p) => ({\n                            ...p,\n                            pages: { ...p.pages, hasBrandColors: true },\n                          }))\n                        }\n                      >\n                        Yes\n                      </Pill>\n                      <Pill\n                        selected={req.pages.hasBrandColors === false}\n                        onClick={() =>\n                          setReq((p) => ({\n                            ...p,\n                            pages: { ...p.pages, hasBrandColors: false },\n                          }))\n                        }\n                      >\n                        No\n                      </Pill>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {!validateStep(\"pages_content\", req) ? (\n              <p className=\"text-sm font-semibold text-orange-700\">\n                Please fill “Approx pages count” and choose “Content provided\n                by” to proceed.\n              </p>\n            ) : null}\n          </div>\n        );\n\n      case \"design\":\n        return (\n          <div className=\"space-y-4\">\n            <SectionTitle\n              title=\"Design preferences\"\n              desc=\"Helps us match your style quickly.\"\n            />\n\n            <div className=\"rounded-2xl border border-gray-200 bg-white p-4 space-y-4\">\n              <div>\n                <Label>Style</Label>\n                <div className=\"mt-2 flex flex-wrap gap-2\">\n                  {(\n                    [\n                      [\"modern\", \"Modern\"],\n                      [\"minimal\", \"Minimal\"],\n                      [\"premium\", \"Premium\"],\n                      [\"bold\", \"Bold\"],\n                      [\"corporate\", \"Corporate\"],\n                      [\"not_sure\", \"Not sure\"],\n                    ] as const\n                  ).map(([id, label]) => (\n                    <Pill\n                      key={id}\n                      selected={req.design.style === id}\n                      onClick={() =>\n                        setReq((p) => ({\n                          ...p,\n                          design: { ...p.design, style: id },\n                        }))\n                      }\n                    >\n                      {label}\n                    </Pill>\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"grid gap-4 md:grid-cols-2\">\n                <div>\n                  <Label>Color preferences (optional)</Label>\n                  <TextInput\n                    value={req.design.colorPreferences}\n                    onChange={(e) =>\n                      setReq((p) => ({\n                        ...p,\n                        design: {\n                          ...p.design,\n                          colorPreferences: e.target.value,\n                        },\n                      }))\n                    }\n                    placeholder=\"e.g., orange + white, blue theme…\"\n                  />\n                </div>\n\n                <div>\n                  <Label>Animations</Label>\n                  <div className=\"mt-2 flex flex-wrap gap-2\">\n                    {(\n                      [\n                        [\"none\", \"None\"],\n                        [\"light\", \"Light\"],\n                        [\"rich\", \"Rich\"],\n                        [\"not_sure\", \"Not sure\"],\n                      ] as const\n                    ).map(([id, label]) => (\n                      <Pill\n                        key={id}\n                        selected={req.design.animations === id}\n                        onClick={() =>\n                          setReq((p) => ({\n                            ...p,\n                            design: { ...p.design, animations: id },\n                          }))\n                        }\n                      >\n                        {label}\n                      </Pill>\n                    ))}\n                  </div>\n                </div>\n              </div>\n\n              <div>\n                <Label>Reference websites (optional)</Label>\n                <TextArea\n                  value={req.referenceWebsites}\n                  onChange={(e) =>\n                    setReq((p) => ({ ...p, referenceWebsites: e.target.value }))\n                  }\n                  placeholder=\"Paste links you like (design inspirations)\"\n                />\n              </div>\n            </div>\n          </div>\n        );\n\n      case \"integrations\":\n        return (\n          <div className=\"space-y-4\">\n            <SectionTitle\n              title=\"Integrations\"\n              desc=\"Domain/hosting/email/SEO tools etc.\"\n            />\n\n            <div className=\"grid gap-4 md:grid-cols-2\">\n              <div className=\"rounded-2xl border border-gray-200 bg-white p-4 space-y-4\">\n                <div>\n                  <Label>Domain</Label>\n                  <div className=\"mt-2 flex flex-wrap gap-2\">\n                    {(\n                      [\n                        [\"already_have\", \"Already have\"],\n                        [\"need\", \"Need new domain\"],\n                        [\"not_sure\", \"Not sure\"],\n                      ] as const\n                    ).map(([id, label]) => (\n                      <Pill\n                        key={id}\n                        selected={req.integrations.domain === id}\n                        onClick={() =>\n                          setReq((p) => ({\n                            ...p,\n                            integrations: { ...p.integrations, domain: id },\n                          }))\n                        }\n                      >\n                        {label}\n                      </Pill>\n                    ))}\n                  </div>\n                </div>\n\n                <div>\n                  <Label>Hosting preference</Label>\n                  <div className=\"mt-2 flex flex-wrap gap-2\">\n                    {(\n                      [\n                        [\"need_recommendation\", \"Recommend\"],\n                        [\"already_have\", \"Already have hosting\"],\n                        [\"vercel\", \"Vercel\"],\n                        [\"cloudflare\", \"Cloudflare\"],\n                        [\"aws\", \"AWS\"],\n                        [\"other\", \"Other\"],\n                      ] as const\n                    ).map(([id, label]) => (\n                      <Pill\n                        key={id}\n                        selected={req.integrations.hosting === id}\n                        onClick={() =>\n                          setReq((p) => ({\n                            ...p,\n                            integrations: { ...p.integrations, hosting: id },\n                          }))\n                        }\n                      >\n                        {label}\n                      </Pill>\n                    ))}\n                  </div>\n                </div>\n\n                <div>\n                  <Label>Business email</Label>\n                  <div className=\"mt-2 flex flex-wrap gap-2\">\n                    {(\n                      [\n                        [\"need_business_email\", \"Need business email\"],\n                        [\"already_have\", \"Already have\"],\n                        [\"not_sure\", \"Not sure\"],\n                      ] as const\n                    ).map(([id, label]) => (\n                      <Pill\n                        key={id}\n                        selected={req.integrations.email === id}\n                        onClick={() =>\n                          setReq((p) => ({\n                            ...p,\n                            integrations: { ...p.integrations, email: id },\n                          }))\n                        }\n                      >\n                        {label}\n                      </Pill>\n                    ))}\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"rounded-2xl border border-gray-200 bg-white p-4 space-y-4\">\n                <div>\n                  <Label>Analytics setup needed?</Label>\n                  <div className=\"mt-2 flex gap-2\">\n                    <Pill\n                      selected={req.integrations.analytics === true}\n                      onClick={() =>\n                        setReq((p) => ({\n                          ...p,\n                          integrations: { ...p.integrations, analytics: true },\n                          features: uniq([...p.features, \"analytics\"]),\n                        }))\n                      }\n                    >\n                      Yes\n                    </Pill>\n                    <Pill\n                      selected={req.integrations.analytics === false}\n                      onClick={() =>\n                        setReq((p) => ({\n                          ...p,\n                          integrations: { ...p.integrations, analytics: false },\n                        }))\n                      }\n                    >\n                      No\n                    </Pill>\n                  </div>\n                </div>\n\n                <div>\n                  <Label>SEO setup needed?</Label>\n                  <div className=\"mt-2 flex gap-2\">\n                    <Pill\n                      selected={req.integrations.seoSetup === true}\n                      onClick={() =>\n                        setReq((p) => ({\n                          ...p,\n                          integrations: { ...p.integrations, seoSetup: true },\n                          features: uniq([...p.features, \"seo\"]),\n                        }))\n                      }\n                    >\n                      Yes\n                    </Pill>\n                    <Pill\n                      selected={req.integrations.seoSetup === false}\n                      onClick={() =>\n                        setReq((p) => ({\n                          ...p,\n                          integrations: { ...p.integrations, seoSetup: false },\n                        }))\n                      }\n                    >\n                      No\n                    </Pill>\n                  </div>\n                </div>\n\n                <div>\n                  <Label>CRM (optional)</Label>\n                  <div className=\"mt-2 flex flex-wrap gap-2\">\n                    {(\n                      [\n                        [\"none\", \"None\"],\n                        [\"zoho\", \"Zoho\"],\n                        [\"hubspot\", \"HubSpot\"],\n                        [\"other\", \"Other\"],\n                        [\"not_sure\", \"Not sure\"],\n                      ] as const\n                    ).map(([id, label]) => (\n                      <Pill\n                        key={id}\n                        selected={req.integrations.crm === id}\n                        onClick={() =>\n                          setReq((p) => ({\n                            ...p,\n                            integrations: { ...p.integrations, crm: id },\n                          }))\n                        }\n                      >\n                        {label}\n                      </Pill>\n                    ))}\n\n                    {req.integrations.crm === \"other\" ? (\n                      <div className=\"mt-3\">\n                        <TextInput\n                          value={req.integrations.crmOther}\n                          onChange={(e) =>\n                            setReq((p) => ({\n                              ...p,\n                              integrations: {\n                                ...p.integrations,\n                                crmOther: e.target.value,\n                              },\n                            }))\n                          }\n                          placeholder=\"CRM name\"\n                        />\n                      </div>\n                    ) : null}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        );\n\n      case \"timeline_budget\":\n        return (\n          <div className=\"space-y-4\">\n            <SectionTitle\n              title=\"Timeline & budget\"\n              desc=\"Used only to prepare an accurate quote.\"\n            />\n\n            <div className=\"grid gap-4 md:grid-cols-2\">\n              <div className=\"rounded-2xl border border-gray-200 bg-white p-4 space-y-4\">\n                <div>\n                  <Label>Timeline</Label>\n                  <div className=\"mt-2 flex flex-wrap gap-2\">\n                    {(\n                      [\n                        [\"asap\", \"ASAP\"],\n                        [\"1_2_weeks\", \"1–2 weeks\"],\n                        [\"2_4_weeks\", \"2–4 weeks\"],\n                        [\"1_2_months\", \"1–2 months\"],\n                        [\"2_3_months\", \"2–3 months\"],\n                        [\"flexible\", \"Flexible\"],\n                      ] as Array<[Timeline, string]>\n                    ).map(([id, label]) => (\n                      <Pill\n                        key={id}\n                        selected={req.plan.timeline === id}\n                        onClick={() =>\n                          setReq((p) => ({\n                            ...p,\n                            plan: { ...p.plan, timeline: id },\n                          }))\n                        }\n                      >\n                        {label}\n                      </Pill>\n                    ))}\n                  </div>\n                </div>\n\n                <div>\n                  <Label>Support</Label>\n                  <div className=\"mt-2 flex flex-wrap gap-2\">\n                    {(\n                      [\n                        [\"one_time\", \"One-time delivery\"],\n                        [\"monthly\", \"Monthly maintenance\"],\n                        [\"not_sure\", \"Not sure\"],\n                      ] as const\n                    ).map(([id, label]) => (\n                      <Pill\n                        key={id}\n                        selected={req.plan.support === id}\n                        onClick={() =>\n                          setReq((p) => ({\n                            ...p,\n                            plan: { ...p.plan, support: id },\n                          }))\n                        }\n                      >\n                        {label}\n                      </Pill>\n                    ))}\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"rounded-2xl border border-gray-200 bg-white p-4 space-y-4\">\n                <div>\n                  <Label>Budget range</Label>\n                  <div className=\"mt-2 flex flex-wrap gap-2\">\n                    {(\n                      [\n                        [\"under_10k\", \"Under 10k\"],\n                        [\"10k_25k\", \"10k–25k\"],\n                        [\"25k_50k\", \"25k–50k\"],\n                        [\"50k_1l\", \"50k–1L\"],\n                        [\"1l_plus\", \"1L+\"],\n                        [\"not_sure\", \"Not sure\"],\n                      ] as Array<[BudgetRange, string]>\n                    ).map(([id, label]) => (\n                      <Pill\n                        key={id}\n                        selected={req.plan.budget === id}\n                        onClick={() =>\n                          setReq((p) => ({\n                            ...p,\n                            plan: { ...p.plan, budget: id },\n                          }))\n                        }\n                      >\n                        {label}\n                      </Pill>\n                    ))}\n                  </div>\n                </div>\n\n                {!validateStep(\"timeline_budget\", req) ? (\n                  <p className=\"text-sm font-semibold text-orange-700\">\n                    Please select Timeline and Budget to proceed.\n                  </p>\n                ) : null}\n              </div>\n            </div>\n          </div>\n        );\n\n      case \"contact\":\n        return (\n          <div className=\"space-y-4\">\n            <SectionTitle\n              title=\"Contact details\"\n              desc=\"So we can send the quote and follow up.\"\n            />\n\n            <div className=\"rounded-2xl border border-gray-200 bg-white p-4 grid gap-4 md:grid-cols-2\">\n              <div>\n                <Label>Your name</Label>\n                <TextInput\n                  value={req.contact.name}\n                  onChange={(e) =>\n                    setReq((p) => ({\n                      ...p,\n                      contact: { ...p.contact, name: e.target.value },\n                    }))\n                  }\n                  placeholder=\"Full name\"\n                />\n              </div>\n\n              <div>\n                <Label>Phone (WhatsApp preferred)</Label>\n                <TextInput\n                  value={req.contact.phone}\n                  onChange={(e) =>\n                    setReq((p) => ({\n                      ...p,\n                      contact: { ...p.contact, phone: e.target.value },\n                    }))\n                  }\n                  placeholder=\"+91 9xxxxxxxxx\"\n                />\n              </div>\n\n              <div>\n                <Label>Email (optional)</Label>\n                <TextInput\n                  value={req.contact.email}\n                  onChange={(e) =>\n                    setReq((p) => ({\n                      ...p,\n                      contact: { ...p.contact, email: e.target.value },\n                    }))\n                  }\n                  placeholder=\"name@email.com\"\n                />\n              </div>\n\n              <div>\n                <Label>City (optional)</Label>\n                <TextInput\n                  value={req.contact.city}\n                  onChange={(e) =>\n                    setReq((p) => ({\n                      ...p,\n                      contact: { ...p.contact, city: e.target.value },\n                    }))\n                  }\n                  placeholder=\"e.g., Vijayawada\"\n                />\n              </div>\n\n              <div className=\"md:col-span-2\">\n                <Label>Preferred contact method</Label>\n                <div className=\"mt-2 flex flex-wrap gap-2\">\n                  {(\n                    [\n                      [\"whatsapp\", \"WhatsApp\"],\n                      [\"call\", \"Call\"],\n                      [\"email\", \"Email\"],\n                    ] as const\n                  ).map(([id, label]) => (\n                    <Pill\n                      key={id}\n                      selected={req.contact.preferredContact === id}\n                      onClick={() =>\n                        setReq((p) => ({\n                          ...p,\n                          contact: { ...p.contact, preferredContact: id },\n                        }))\n                      }\n                    >\n                      {label}\n                    </Pill>\n                  ))}\n                </div>\n              </div>\n            </div>\n\n            {!validateStep(\"contact\", req) ? (\n              <p className=\"text-sm font-semibold text-orange-700\">\n                Name and phone are required to proceed.\n              </p>\n            ) : null}\n          </div>\n        );\n\n      case \"review\":\n        return (\n          <div className=\"space-y-4\">\n            <SectionTitle\n              title=\"Review & send for quote\"\n              desc=\"Copy or send the summary to WhatsApp.\"\n            />\n\n            <div className=\"grid gap-4 lg:grid-cols-2\">\n              <div className=\"rounded-2xl border border-gray-200 bg-white p-4\">\n                <div className=\"flex items-center justify-between gap-2\">\n                  <p className=\"text-sm font-bold text-gray-900\">\n                    Deterministic summary (source of truth)\n                  </p>\n                  <CopyButton text={deterministicSummary} />\n                </div>\n\n                <div className=\"mt-3 rounded-xl border border-gray-100 bg-gray-50 p-3 text-sm text-gray-800\">\n                  <ReactMarkdown remarkPlugins={[remarkGfm]}>\n                    {deterministicSummary}\n                  </ReactMarkdown>\n                </div>\n\n                <div className=\"mt-4 flex flex-wrap gap-2\">\n                  <button\n                    type=\"button\"\n                    onClick={() =>\n                      sendToWhatsApp(\n                        WHATSAPP_QUOTE_PRIMARY,\n                        deterministicSummary,\n                      )\n                    }\n                    className=\"inline-flex items-center gap-2 rounded-xl bg-green-600 px-4 py-2.5 text-sm font-bold text-white hover:bg-green-700\"\n                  >\n                    <Send className=\"h-4 w-4\" />\n                    Send to WhatsApp (Primary)\n                  </button>\n\n                  <button\n                    type=\"button\"\n                    onClick={() =>\n                      sendToWhatsApp(\n                        WHATSAPP_QUOTE_SECONDARY,\n                        deterministicSummary,\n                      )\n                    }\n                    className=\"inline-flex items-center gap-2 rounded-xl bg-green-50 border border-green-200 px-4 py-2.5 text-sm font-bold text-green-700 hover:bg-green-100\"\n                  >\n                    <Send className=\"h-4 w-4\" />\n                    Send to WhatsApp (Secondary)\n                  </button>\n                </div>\n\n                <p className=\"mt-3 text-xs text-gray-500\">\n                  Tip: This opens WhatsApp with a pre-filled message.\n                </p>\n              </div>\n\n              <div className=\"rounded-2xl border border-gray-200 bg-white p-4\">\n                <div className=\"flex items-center justify-between gap-2\">\n                  <div>\n                    <p className=\"text-sm font-bold text-gray-900\">\n                      AI-polished summary (optional)\n                    </p>\n                    <p className=\"text-xs text-gray-500 mt-1\">\n                      Uses your deterministic summary as input and rewrites\n                      cleanly.\n                    </p>\n                  </div>\n\n                  <div className=\"flex items-center gap-2\">\n                    <button\n                      type=\"button\"\n                      disabled={aiSummaryLoading}\n                      onClick={runAISummary}\n                      className=\"inline-flex items-center gap-2 rounded-xl bg-orange-600 px-4 py-2.5 text-sm font-bold text-white hover:bg-orange-700 disabled:opacity-50\"\n                    >\n                      <Sparkles className=\"h-4 w-4\" />\n                      Generate\n                    </button>\n\n                    {req.ai.aiSummary ? (\n                      <CopyButton text={req.ai.aiSummary} />\n                    ) : null}\n                  </div>\n                </div>\n\n                {aiError ? (\n                  <p className=\"mt-2 text-sm font-semibold text-red-600\">\n                    {aiError}\n                  </p>\n                ) : null}\n\n                <div className=\"mt-3 rounded-xl border border-gray-100 bg-gray-50 p-3 text-sm text-gray-800 min-h-[160px]\">\n                  {aiSummaryLoading ? (\n                    <p className=\"text-gray-500\">Generating…</p>\n                  ) : req.ai.aiSummary ? (\n                    <ReactMarkdown remarkPlugins={[remarkGfm]}>\n                      {req.ai.aiSummary}\n                    </ReactMarkdown>\n                  ) : (\n                    <p className=\"text-gray-500\">\n                      Click “Generate” to create a polished version.\n                    </p>\n                  )}\n                </div>\n\n                {req.ai.aiSummary ? (\n                  <div className=\"mt-4 flex flex-wrap gap-2\">\n                    {req.ai.aiSummaryIncomplete ? (\n                      <button\n                        type=\"button\"\n                        disabled={aiSummaryLoading}\n                        onClick={continueAISummary}\n                        className=\"inline-flex items-center gap-2 rounded-xl border border-orange-200 bg-orange-50 px-4 py-2.5 text-sm font-bold text-orange-700 hover:bg-orange-100 disabled:opacity-50\"\n                      >\n                        <ArrowRight className=\"h-4 w-4\" />\n                        Continue\n                      </button>\n                    ) : null}\n\n                    <button\n                      type=\"button\"\n                      onClick={() =>\n                        sendToWhatsApp(WHATSAPP_QUOTE_PRIMARY, req.ai.aiSummary)\n                      }\n                      className=\"inline-flex items-center gap-2 rounded-xl bg-green-600 px-4 py-2.5 text-sm font-bold text-white hover:bg-green-700\"\n                    >\n                      <Send className=\"h-4 w-4\" />\n                      Send AI summary to WhatsApp\n                    </button>\n                  </div>\n                ) : null}\n              </div>\n            </div>\n\n            <div className=\"rounded-2xl border border-gray-200 bg-white p-4\">\n              <p className=\"text-sm font-bold text-gray-900\">\n                Reset / Start over\n              </p>\n              <p className=\"text-sm text-gray-600 mt-1\">\n                Clears saved progress on this device.\n              </p>\n              <button\n                type=\"button\"\n                onClick={resetAll}\n                className=\"mt-3 inline-flex items-center gap-2 rounded-xl border border-gray-200 bg-white px-4 py-2.5 text-sm font-bold text-gray-700 hover:border-orange-200 hover:text-orange-700\"\n              >\n                <RefreshCcw className=\"h-4 w-4\" />\n                Reset\n              </button>\n            </div>\n          </div>\n        );\n\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className=\"min-h-[calc(100vh-72px)] mt-[72px] bg-gradient-to-b from-orange-50/40 to-background\">\n      <div className=\"mx-auto max-w-5xl px-4 md:px-6 py-6 md:py-10\">\n        {/* Header */}\n        <div className=\"rounded-2xl bg-gradient-to-r from-orange-500 to-amber-500 p-5 md:p-6 shadow-md\">\n          <div className=\"flex items-center gap-4\">\n            <div className=\"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20 shadow-inner border border-white/20 backdrop-blur-sm\">\n              <Image\n                src=\"/images/staffarc-logo.png\"\n                alt={BOT_NAME}\n                width={32}\n                height={32}\n                className=\"h-8 w-8 object-contain drop-shadow-sm\"\n              />\n            </div>\n\n            <div className=\"flex flex-col\">\n              <h1 className=\"text-xl md:text-2xl font-extrabold text-white flex items-center gap-2\">\n                {BOT_NAME}\n                <Sparkles className=\"h-4 w-4 text-yellow-200 animate-pulse\" />\n              </h1>\n              <p className=\"text-sm text-white/90 font-semibold\">\n                Requirement wizard → Summary → WhatsApp quote\n              </p>\n            </div>\n          </div>\n\n          <div className=\"mt-4 flex flex-wrap items-center gap-2\">\n            {steps.map((s) => (\n              <span\n                key={s}\n                className={cn(\n                  \"rounded-full px-3 py-1 text-xs font-bold border\",\n                  s === step\n                    ? \"bg-white text-orange-700 border-white\"\n                    : \"bg-white/10 text-white border-white/20\",\n                )}\n              >\n                {stepTitle(s) ?? s}\n              </span>\n            ))}\n          </div>\n\n          <div className=\"mt-4 flex flex-wrap gap-2\">\n            <Link\n              href=\"/contact\"\n              className=\"inline-flex items-center gap-2 rounded-xl bg-white/15 px-4 py-2 text-sm font-bold text-white border border-white/20 hover:bg-white/20\"\n            >\n              Contact StaffArc\n              <ArrowRight className=\"h-4 w-4\" />\n            </Link>\n          </div>\n        </div>\n\n        {/* Body */}\n        <div\n          ref={scrollRef}\n          className=\"mt-6 rounded-2xl border border-gray-200 bg-white shadow-sm overflow-hidden\"\n        >\n          {/* <div className=\"p-5 md:p-7\">\n            {renderStepBody()}\n          </div> */}\n          <div className=\"p-5 md:p-7\">{renderStepBody()}</div>\n          {/* Footer / navigation */}\n          <div className=\"border-t border-gray-100 bg-gray-50 p-4 md:p-5 flex items-center justify-between gap-3\">\n            <button\n              type=\"button\"\n              onClick={goBack}\n              disabled={stepIndex <= 0}\n              className=\"inline-flex items-center gap-2 rounded-xl border border-gray-200 bg-white px-4 py-2.5 text-sm font-bold text-gray-700 disabled:opacity-50\"\n            >\n              <ChevronLeft className=\"h-4 w-4\" />\n              Back\n            </button>\n\n            <div className=\"text-xs font-semibold text-gray-500\">\n              Step {stepIndex + 1} of {steps.length}\n            </div>\n\n            {step !== \"review\" ? (\n              <button\n                type=\"button\"\n                onClick={goNext}\n                disabled={!validateStep(step, req)}\n                className=\"inline-flex items-center gap-2 rounded-xl bg-orange-600 px-4 py-2.5 text-sm font-extrabold text-white hover:bg-orange-700 disabled:opacity-50\"\n              >\n                Next\n                <ChevronRight className=\"h-4 w-4\" />\n              </button>\n            ) : (\n              <button\n                type=\"button\"\n                onClick={() =>\n                  sendToWhatsApp(\n                    WHATSAPP_QUOTE_PRIMARY,\n                    req.ai.aiSummary || deterministicSummary,\n                  )\n                }\n                className=\"inline-flex items-center gap-2 rounded-xl bg-green-600 px-4 py-2.5 text-sm font-extrabold text-white hover:bg-green-700\"\n              >\n                <Send className=\"h-4 w-4\" />\n                Send to WhatsApp\n              </button>\n            )}\n          </div>\n        </div>\n\n        <p className=\"mt-4 text-center text-xs text-gray-500 font-semibold\">\n          {BOT_NAME} can make mistakes. Please verify final scope with the\n          StaffArc team.\n        </p>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}